"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1495],{3366:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(70885),r=n(72791),s=n(78983),o=n(12606),i=n(95798),l=(n(21379),n(74085),n(29248),n(72880),n(25393)),d=n(42982),c=n(80184),u=function(e){var t=(0,r.useState)({}),n=(0,a.Z)(t,2),o=n[0],i=n[1],l=(0,r.useState)(1),u=(0,a.Z)(l,2),g=u[0],f=(u[1],(0,r.useState)()),p=(0,a.Z)(f,2),m=(p[0],p[1]);(0,r.useEffect)((function(){e.items&&e.items.length&&(h(g),m(e.pageSize))}),[e.items,g,e.pageSize]),(0,r.useEffect)((function(){console.log(e),e.items&&h(g)}),[e.items,g]);var h=function(t){console.log(t);var n,a=e.items,r=e.pageSize;n=x(a.length,t,r);var s=a.slice(n.startIndex,n.endIndex+1);console.log("newPager"),console.log(n),console.log(n.startIndex),console.log(n.endIndex),console.log(s),i(n),e.onChangePage(s,n.startIndex+1,n.endIndex+1)},x=function(e,t,n){t=t||1,n=n||10;var a,r,s=Math.ceil(e/n);s<=5?(a=1,r=s):t<=3?(a=1,r=5):t+2>=s?(a=s-4,r=s):(a=t-2,r=t+2);var o=(t-1)*n,i=Math.min(o+n-1,e-1),l=(0,d.Z)(Array(r+1-a).keys()).map((function(e){return a+e}));return{totalItems:e,currentPage:t,pageSize:n,totalPages:s,startPage:a,endPage:r,startIndex:o,endIndex:i,pages:l}};return!o.pages||o.pages.length<=1?null:(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(s.$A,{role:"group","aria-label":"Toolbar with button groups",children:[(0,c.jsx)(s.Z0,{className:"me-2",role:"group","aria-label":"First group",children:(0,c.jsx)(s.u5,{className:"pagination-color",disabled:1===o.currentPage,onClick:function(){return h(o.currentPage-1)},children:"Previous"})}),(0,c.jsx)(s.Z0,{className:"me-2",role:"group","aria-label":"First group",children:o.pages.map((function(e,t){return(0,c.jsx)(s.u5,{color:"primary",className:o.currentPage===e?"pagination-color actives":"pagination-color",onClick:function(){return h(e)},children:e},t)}))}),(0,c.jsx)(s.Z0,{className:"me-2",role:"group","aria-label":"First group",children:(0,c.jsx)(s.u5,{className:"pagination-color",disabled:o.currentPage===o.totalPages,onClick:function(){return h(o.currentPage+1)},children:"Next"})})]})})},g=function(){var e=(0,r.useState)({name:"roots",id:"R0001",type:"step1",children:[]}),t=(0,a.Z)(e,2),n=t[0],d=t[1],g=(0,r.useState)({name:"roots",id:"R0001",type:"step1",children:[]}),f=(0,a.Z)(g,2),p=(f[0],f[1]),m=(0,r.useState)(l),h=(0,a.Z)(m,2),x=h[0],_=(h[1],(0,r.useState)(0)),j=(0,a.Z)(_,2),y=j[0],b=j[1],k=(0,r.useState)(40),v=(0,a.Z)(k,2),R=v[0],w=v[1],S=(0,r.useState)(!1),N=(0,a.Z)(S,2),I=(N[0],N[1]),P=(0,i.R)(),Z=(0,a.Z)(P,3),C=Z[0],E=Z[1],z=(Z[2],(0,r.useState)(!0)),F=(0,a.Z)(z,2),B=F[0],D=F[1],L=0,M=function(e,t,n){console.log(e),console.log(t),I(!0);var a=document.getElementById(t),r=document.getElementById("mypopup");a.getBoundingClientRect();r.style.left=n.clientX+20+"px",r.style.top=n.clientY+20+"px",r.style.display="block",document.getElementById("svg_content").innerText=e},A=function(e){document.getElementById(e);document.getElementById("mypopup").style.display="none",I(!1)};return(0,r.useEffect)((function(){!function(){var e=x.downstream.slice(y,R),t=JSON.stringify(e);t=t.replace(/downstream/g,"children"),e=JSON.parse(t),console.log(e),e[y],b(R),w(R+40),console.log(y),console.log(R),p({name:"roots",gid:"R0001",itemtype:"step1",children:e}),d({name:"roots",gid:"R0001",itemtype:"step1",children:e}),D(!1)}()}),[]),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(s.rb,{children:[(0,c.jsx)(s.b7,{xs:12,className:"d-flex justify-content-end mb-4 pt-4",children:(0,c.jsx)(u,{pageSize:40,items:l.downstream,onChangePage:function(e,t,n){console.log("onchange"),console.log(t),console.log(n),b(n),w(t+n),D(!0),console.log(y),console.log(R);var a=JSON.stringify(e);a=a.replace(/downstream/g,"children"),e=JSON.parse(a),p({name:"roots",gid:"R0001",itemtype:"step1",children:e}),d({name:"roots",gid:"R0001",itemtype:"step1",children:e}),setTimeout((function(){D(!1)}),3e3)}})}),(0,c.jsxs)(s.b7,{xs:12,style:{height:"800px"},children:[B?(0,c.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,c.jsx)(s.LQ,{component:"span",size:"lg","aria-hidden":"false"})}):(0,c.jsx)(o.Z,{data:n,dimensions:C,renderCustomNodeElement:function(e){var t=e.nodeDatum,n=e.toggleNode;console.log(t);var a=t.name.substring(0,110),r=a.substring(0,30),s=a.substring(30,60),o=a.substring(60,90),i=a.substring(90,110),l="",d="";d=0===t.__rd3t.depth?"#00973d":1===t.__rd3t.depth?"#F56457":2===t.__rd3t.depth?"#7E1470":3===t.__rd3t.depth?"#3245BF":4===t.__rd3t.depth?"#5D6E1E":5===t.__rd3t.depth?"#BD3B1B":6===t.__rd3t.depth?"#E83845":"#012F63",l=""===i?"":i+"...",a+="...";t.itemtype;var u="svg_id"+L;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{id:u,transform:"translate(-598 -770)","stroke-width":"0",children:[(0,c.jsx)("rect",{id:"Rectangle_4292","data-name":"Rectangle 4292",width:"257",height:"135",rx:"13",transform:"translate(536 713)",fill:d}),(0,c.jsx)("path",{id:"Path_6071","data-name":"Path 6071",d:"M0,0H257",transform:"translate(536 747.5)",fill:"none",stroke:"#fff","stroke-width":"2"}),(0,c.jsxs)("text",{id:"textid","stroke-width":"0","data-name":t.name,transform:"translate(546 757)",fill:"#fff","font-size":"15","font-family":"Rubik-Regular, Rubik",children:[(0,c.jsx)("tspan",{x:"0",y:"14",children:r}),(0,c.jsxs)("tspan",{x:"0",y:"36",children:[s," "]}),(0,c.jsx)("tspan",{x:"0",y:"58",children:o}),(0,c.jsx)("tspan",{x:"0",y:"80",children:i})]}),""===l?(0,c.jsx)(c.Fragment,{}):(0,c.jsx)("text",{id:"Dasboard",transform:"translate(704 837)",fill:"#fff","font-size":"15","font-family":"Rubik-Regular, Rubik","text-decoration":"underline","stroke-width":"0",children:(0,c.jsx)("tspan",{x:"0",y:"0",onMouseOver:function(e){return M(t.name,u,event)},onMouseOut:function(){return A(u)},children:"Read more"})}),(0,c.jsx)("text",{id:"Dasboard-2","data-name":"Dasboard",transform:"translate(546 738)",fill:"#fff","font-size":"21","font-family":"Rubik-Regular, Rubik","stroke-width":"0",children:(0,c.jsxs)("tspan",{x:"0",y:"0",children:[" ",t.gid]})}),t.__rd3t.collapsed?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("text",{id:"Dasboard-3","data-name":"Dasboard",transform:"translate(707 736)",fill:"#fff","font-size":"15","font-family":"Rubik-Regular, Rubik","stroke-width":"0",onClick:n,children:(0,c.jsx)("tspan",{x:"0",y:"0",children:t.__rd3t.collapsed?"Expand":"Collapse"})}),(0,c.jsx)("g",{id:"Navigation",transform:"translate(765.154 722.395)",children:(0,c.jsx)("g",{id:"_-Round-_-Navigation-_-arrow_back_ios","data-name":"-Round-/-Navigation-/-arrow_back_ios",transform:"translate(0 0)",children:(0,c.jsx)("g",{id:"Group_277","data-name":"Group 277",children:(0,c.jsx)("path",{id:"_-Icon-Color","stroke-width":"0","data-name":"\ud83d\udd39-Icon-Color",d:"M.338,16.864a1.145,1.145,0,0,0,1.622,0L9.578,9.247a.913.913,0,0,0,0-1.292L1.96.337A1.147,1.147,0,0,0,.338,1.959L6.974,8.605.329,15.251A1.143,1.143,0,0,0,.338,16.864Z",transform:"translate(0 0)",fill:"#fff","fill-rule":"evenodd"})})})})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("text",{id:"Dasboard-3","data-name":"Dasboard",transform:"translate(717 736)",fill:"#fff","font-size":"15","font-family":"Rubik-Regular, Rubik","stroke-width":"0",onClick:n,children:(0,c.jsx)("tspan",{x:"0",y:"0",children:t.__rd3t.collapsed?"Expand":"Collapse"})}),(0,c.jsx)("g",{id:"Navigation",transform:"translate(695.001 720)",children:(0,c.jsx)("g",{id:"_-Round-_-Navigation-_-arrow_back_ios","data-name":"-Round-/-Navigation-/-arrow_back_ios",children:(0,c.jsx)("g",{id:"Group_277","data-name":"Group 277",children:(0,c.jsx)("path",{id:"_-Icon-Color","stroke-width":"0","data-name":"\ud83d\udd39-Icon-Color",d:"M9.508,16.864a1.145,1.145,0,0,1-1.622,0L.268,9.247a.913.913,0,0,1,0-1.292L7.885.337A1.147,1.147,0,0,1,9.508,1.959L2.871,8.605l6.646,6.646A1.143,1.143,0,0,1,9.508,16.864Z",transform:"translate(5.727 2.395)",fill:"#fff","fill-rule":"evenodd"})})})})]})]}),L++]})},orientation:"horizontal",styles:{nodes:{node:{shape:"rect",shapeProps:{width:200,height:50,x:-100,y:-25},textBlock:{dy:-20}}}},childrenKey:"children",nodeSvgShape:{shape:"rect",shapeProps:{width:0,height:0}},pathFunc:"step",zoom:.3,translate:E,nodeSize:{x:540,y:100},separation:{siblings:2,nonSiblings:4}}),(0,c.jsx)("div",{id:"mypopup",children:(0,c.jsx)("p",{id:"svg_content"})})]})]})})}}}]);
//# sourceMappingURL=1495.f3177ac0.chunk.js.map